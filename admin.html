<!DOCTYPE html>
<html lang="en">
<head>
  <title>Admin Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://www.gstatic.com/firebasejs/11.4.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/11.4.0/firebase-firestore-compat.js"></script>
  <script src="js/firebase.js"></script> <!-- Make sure this initializes firebase & sets 'db' -->
  <style>
    .card:hover {
      transform: scale(1.04);
      transition: all 0.3s ease;
    }
    .card {
      min-height: 220px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
  </style>
</head>
<body class="bg-light">
  <div class="container py-5">
    <h2 class="text-center mb-4 text-success">ðŸŒ¿ Tulu Nadu Admin Panel</h2>

    <!-- Total Users Display -->
    <div class="text-center mb-5">
      <h4>Total Users: <span class="badge bg-primary" id="totalUsers">Loading...</span></h4>
    </div>

    <!-- Feature Cards -->
    <div class="row row-cols-1 row-cols-md-3 g-4">

      <!-- Card 1 -->
      <div class="col">
        <div class="card shadow border-0" onclick="navigateTo('feature1.html')" style="cursor: pointer;">
          <div class="card-body text-center">
            <h4 class="card-title text-primary">Hotels</h4>
            <p class="card-text">Add or manage hotel information.</p>
          </div>
        </div>
      </div>

      <!-- Card 2 -->
      <div class="col">
        <div class="card shadow border-0" onclick="navigateTo('feature2.html')" style="cursor: pointer;">
          <div class="card-body text-center">
            <h4 class="card-title text-primary">Famous Foods</h4>
            <p class="card-text">Update or add local dishes.</p>
          </div>
        </div>
      </div>

      <!-- Card 3 -->
      <div class="col">
        <div class="card shadow border-0" onclick="navigateTo('feature3.html')" style="cursor: pointer;">
          <div class="card-body text-center">
            <h4 class="card-title text-primary">Kavana Gallery</h4>
            <p class="card-text">Manage Kannada kavanas and poems.</p>
          </div>
        </div>
      </div>

      <!-- Card 4 -->
      <div class="col">
        <div class="card shadow border-0" onclick="navigateTo('feature4.html')" style="cursor: pointer;">
          <div class="card-body text-center">
            <h4 class="card-title text-primary">Places</h4>
            <p class="card-text">Curate tourist attractions of Tulu Nadu.</p>
          </div>
        </div>
      </div>

      <!-- Card 5 -->
      <div class="col">
        <div class="card shadow border-0" onclick="navigateTo('feature5.html')" style="cursor: pointer;">
          <div class="card-body text-center">
            <h4 class="card-title text-primary">Events</h4>
            <p class="card-text">Add cultural events, fests, or fairs.</p>
          </div>
        </div>
      </div>

      <!-- Card 6 -->
      <div class="col">
        <div class="card shadow border-0" onclick="navigateTo('feature6.html')" style="cursor: pointer;">
          <div class="card-body text-center">
            <h4 class="card-title text-primary">User Feedback</h4>
            <p class="card-text">View or respond to user reviews and suggestions.</p>
          </div>
        </div>
      </div>

    </div>
  </div>

  <script>
    function navigateTo(page) {
      window.location.href = page;
    }

    // Fetch total users from Firestore
    db.collection("users").get().then(snapshot => {
      document.getElementById("totalUsers").textContent = snapshot.size;
    }).catch(err => {
      console.error("Error fetching user count:", err);
      document.getElementById("totalUsers").textContent = "Error";
    });
  </script>
</body>
</html>
